(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c35b2af6"],{"011a":function(e,t,a){},"13ee":function(e,t,a){"use strict";a("011a")},4677:function(e,t,a){},"60b8":function(e,t,a){"use strict";a("4677")},"976a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"money-plan"},[a("div",{staticClass:"money-plan-top"},[a("MainTop",[e._v("我要旅行 "),a("span",{staticClass:"gang"},[e._v(" / ")]),e._v(" 预算评估")])],1),a("div",{staticClass:"money-plan-bottom padding15"},[a("el-alert",{attrs:{title:"由于实际出行的诸多不可控因素，评估结果与实际花销或有较大出入，评估结果仅供参考",type:"info"}}),a("br"),a("div",{staticClass:"form-morey-plan"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"遗产名称",prop:"mainType"}},[a("el-cascader",{staticClass:"maincascader",attrs:{size:"mini",options:e.selOptions,placeholder:"请选择出行目的地"},model:{value:e.ruleForm.mainType,callback:function(t){e.$set(e.ruleForm,"mainType",t)},expression:"ruleForm.mainType"}})],1),e.ruleForm.mainType?a("div",[a("el-form-item",{attrs:{label:"遗产地址"}},[a("span",[e._v(e._s(e.ruleForm.mainType[1].address))])]),a("el-form-item",{attrs:{label:"遗产类型"}},[a("span",[e._v(e._s(e.ruleForm.mainType[1].addType))])]),a("el-form-item",{attrs:{label:"所属公司"}},[a("span",[e._v(e._s(e.ruleForm.mainType[1].company))])])],1):e._e(),a("el-form-item",{attrs:{label:"距离(公里)",prop:"distance"}},[a("el-input-number",{attrs:{min:1,label:"描述文字"},model:{value:e.ruleForm.distance,callback:function(t){e.$set(e.ruleForm,"distance",t)},expression:"ruleForm.distance"}})],1),a("el-form-item",{attrs:{label:"出行周期",required:""}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"date1"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择时间","value-format":"yyyyMMdd"},model:{value:e.ruleForm.date1,callback:function(t){e.$set(e.ruleForm,"date1",t)},expression:"ruleForm.date1"}})],1)],1),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("至")]),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"date2"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择时间","value-format":"yyyyMMdd"},model:{value:e.ruleForm.date2,callback:function(t){e.$set(e.ruleForm,"date2",t)},expression:"ruleForm.date2"}})],1)],1)],1),a("el-form-item",{attrs:{label:"游玩偏好",prop:"playType"}},[a("el-radio-group",{model:{value:e.ruleForm.playType,callback:function(t){e.$set(e.ruleForm,"playType",t)},expression:"ruleForm.playType"}},[a("el-radio",{attrs:{label:"四处逛逛"}}),a("el-radio",{attrs:{label:"简单逛逛"}}),a("el-radio",{attrs:{label:"看看就走"}})],1)],1),a("el-form-item",{attrs:{label:"出行方式",prop:"gotype"}},[a("el-radio-group",{model:{value:e.ruleForm.gotype,callback:function(t){e.$set(e.ruleForm,"gotype",t)},expression:"ruleForm.gotype"}},[a("el-radio",{attrs:{label:"跟团"}}),a("el-radio",{attrs:{label:"自驾游"}}),a("el-radio",{attrs:{label:"火车"}}),a("el-radio",{attrs:{label:"飞机"}}),a("el-radio",{attrs:{label:"大巴"}})],1)],1),a("el-form-item",{attrs:{label:"住宿(元)",prop:"hotel"}},[a("el-radio-group",{model:{value:e.ruleForm.hotel,callback:function(t){e.$set(e.ruleForm,"hotel",t)},expression:"ruleForm.hotel"}},[a("el-radio",{attrs:{label:"100~300"}}),a("el-radio",{attrs:{label:"300~500"}}),a("el-radio",{attrs:{label:"500以上"}})],1)],1),a("div",[a("el-form-item",{attrs:{label:"预计花销"}},[a("el-tag",[e._v(e._s(""===e.allMoney?"暂无数据":e.allMoney+"元"))])],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即评估")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)])},l=[],o=a("1da1"),s=(a("96cf"),a("fb6a"),a("d81d"),a("b0c0"),a("b2df")),n={components:{MainTop:s["a"]},created:function(){this.getOptions()},data:function(){return{ruleForm:{mainType:"",distance:1,date1:"",date2:"",playType:"",gotype:"",hotel:""},selOptions:[{value:"工业遗产",label:"工业遗产",children:[]},{value:"工业博物馆",label:"工业博物馆",children:[]},{value:"工业旅游区",label:"工业旅游区",children:[]}],rules:{mainType:[{required:!0,message:"请选择出行目的地",trigger:"change"}],distance:[{required:!0,message:"请输入出行距离",trigger:"change"}],date1:[{required:!0,message:"请选择出发时间",trigger:"change"}],date2:[{required:!0,message:"请选择返回时间",trigger:"change"}],playType:[{required:!0,message:"请选择一个游玩偏好",trigger:"change"}],gotype:[{required:!0,message:"请选择出行方式",trigger:"change"}],hotel:[{required:!0,message:"请选择住宿条件价位",trigger:"change"}]},allMoney:""}},methods:{submitForm:function(e){var t=this;console.log(this.ruleForm),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;if(t.ruleForm.date2>t.ruleForm.date1){console.log(t.ruleForm),t.ruleForm.distance<40&&t.$message({showClose:!0,message:"您的出行距离较小，请注意检查是否正确"});var a=parseFloat(t.ruleForm.date1.slice(0,4)),r=parseFloat(t.ruleForm.date2.slice(0,4)),l=parseFloat(t.ruleForm.date1.slice(4,6)),o=parseFloat(t.ruleForm.date2.slice(4,6)),s=parseFloat(t.ruleForm.date1.slice(6)),n=parseFloat(t.ruleForm.date2.slice(6));r-a>0&&(o+=12*(r-a)),o-l>0&&(n+=30*(o-l),console.log("mon2 - mon1",o-l));var i=n-s,c=Math.floor(99*Math.random()+1),m=c+100;"跟团"===t.ruleForm.gotype||"火车"===t.ruleForm.gotype?m+=t.ruleForm.distance:"大巴"===t.ruleForm.gotype||"飞机"===t.ruleForm.gotype?m+=2*t.ruleForm.distance:"火车"===t.ruleForm.gotype&&(m+=3*t.ruleForm.distance),"四处逛逛"===t.ruleForm.playType?m+=1e3:"简单逛逛"===t.ruleForm.playType?m+=500:"看看就走"===t.ruleForm.playType&&(m+=300),"100~300"===t.ruleForm.hotel?m+=200*i:"300~500"===t.ruleForm.hotel?m+=400*i:"500以上"===t.ruleForm.hotel&&(m+=700*i),console.log("所有花销",m),t.allMoney=m,t.$notify({title:"成功",message:"预算评估成功",type:"success"})}else t.$message({showClose:!0,message:"结束时间请晚于开始时间",type:"warning"})}))},resetForm:function(e){this.$refs[e].resetFields()},getOptions:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/getHeritageMainData/getHeritageMainData");case 2:return a=t.sent,e.selOptions[0].children=a.data.data.map((function(e){return{value:e,label:e.name}})),t.next=6,e.$axios.get("/getHeritageMuseum/getHeritageMuseum");case 6:return r=t.sent,e.selOptions[1].children=r.data.data.map((function(e){return{value:e,label:e.name}})),t.next=10,e.$axios.get("/getHeritageTourism/getHeritageTourism");case 10:l=t.sent,e.selOptions[2].children=l.data.data.map((function(e){return{value:e,label:e.name}}));case 12:case"end":return t.stop()}}),t)})))()}}},i=n,c=(a("60b8"),a("2877")),m=Object(c["a"])(i,r,l,!1,null,null,null);t["default"]=m.exports},b2df:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-top"},[a("div",{staticClass:"main-top-left"},[a("span",{staticClass:"el-icon-arrow-left"}),a("span",[e._t("default")],2)]),a("div",{staticClass:"main-top-right"},[a("div",{staticClass:"btnBox"},[a("el-dropdown",{on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s("zh_cn"===e.lang?"中文":"English")),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"zh_cn"}},[e._v(" "+e._s("zh_cn"===e.lang?"中文":"Chinese"))]),a("el-dropdown-item",{attrs:{command:"zh_en"}},[e._v(" "+e._s("zh_cn"===e.lang?"英文":"English"))])],1)],1),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"text"},on:{click:e.leginOut}},[e._v(" "+e._s("zh_cn"===e.lang?"退出登陆":"SignOut"))])],1),a("el-avatar",{staticStyle:{"margin-left":"10px"},attrs:{shape:"square",size:"small",src:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/5f0c8b2c-22e0-42f3-9ed3-539de3652c08.jpg"}})],1)])},l=[],o=a("5530"),s=a("2f62"),n={name:"MainTop",created:function(){},computed:Object(o["a"])({},Object(s["c"])(["lang"])),methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])(["langChange"])),{},{handleCommand:function(e){this.langChange(e)},leginOut:function(){sessionStorage.removeItem("username"),this.$router.push("/heritage/login")}})},i=n,c=(a("13ee"),a("2877")),m=Object(c["a"])(i,r,l,!1,null,"0096d332",null);t["a"]=m.exports},fb6a:function(e,t,a){"use strict";var r=a("23e7"),l=a("da84"),o=a("e8b5"),s=a("68ee"),n=a("861d"),i=a("23cb"),c=a("07fa"),m=a("fc6a"),u=a("8418"),d=a("b622"),p=a("1dde"),g=a("f36a"),f=p("slice"),y=d("species"),b=l.Array,h=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var a,r,l,d=m(this),p=c(d),f=i(e,p),F=i(void 0===t?p:t,p);if(o(d)&&(a=d.constructor,s(a)&&(a===b||o(a.prototype))?a=void 0:n(a)&&(a=a[y],null===a&&(a=void 0)),a===b||void 0===a))return g(d,f,F);for(r=new(void 0===a?b:a)(h(F-f,0)),l=0;f<F;f++,l++)f in d&&u(r,l,d[f]);return r.length=l,r}})}}]);
//# sourceMappingURL=chunk-c35b2af6.297acee1.js.map
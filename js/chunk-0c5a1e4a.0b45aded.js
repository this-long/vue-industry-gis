(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c5a1e4a"],{4677:function(e,r,t){},"60b8":function(e,r,t){"use strict";t("4677")},"976a":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"money-plan"},[t("div",{staticClass:"money-plan-top"},[t("MainTop",[e._v("我要旅行 "),t("span",{staticClass:"gang"},[e._v(" / ")]),e._v(" 预算评估")])],1),t("div",{staticClass:"money-plan-bottom padding15"},[t("el-alert",{attrs:{title:"由于实际出行的诸多不可控因素，评估结果与实际花销或有较大出入，评估结果仅供参考",type:"info"}}),t("br"),t("div",{staticClass:"form-morey-plan"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"遗产名称",prop:"mainType"}},[t("el-cascader",{staticClass:"maincascader",attrs:{size:"mini",options:e.selOptions,placeholder:"请选择出行目的地"},model:{value:e.ruleForm.mainType,callback:function(r){e.$set(e.ruleForm,"mainType",r)},expression:"ruleForm.mainType"}})],1),e.ruleForm.mainType?t("div",[t("el-form-item",{attrs:{label:"遗产地址"}},[t("span",[e._v(e._s(e.ruleForm.mainType[1].address))])]),t("el-form-item",{attrs:{label:"遗产类型"}},[t("span",[e._v(e._s(e.ruleForm.mainType[1].addType))])]),t("el-form-item",{attrs:{label:"所属公司"}},[t("span",[e._v(e._s(e.ruleForm.mainType[1].company))])])],1):e._e(),t("el-form-item",{attrs:{label:"距离(公里)",prop:"distance"}},[t("el-input-number",{attrs:{min:1,label:"描述文字"},model:{value:e.ruleForm.distance,callback:function(r){e.$set(e.ruleForm,"distance",r)},expression:"ruleForm.distance"}})],1),t("el-form-item",{attrs:{label:"出行周期",required:""}},[t("el-col",{attrs:{span:11}},[t("el-form-item",{attrs:{prop:"date1"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择时间","value-format":"yyyyMMdd"},model:{value:e.ruleForm.date1,callback:function(r){e.$set(e.ruleForm,"date1",r)},expression:"ruleForm.date1"}})],1)],1),t("el-col",{staticClass:"line",attrs:{span:2}},[e._v("至")]),t("el-col",{attrs:{span:11}},[t("el-form-item",{attrs:{prop:"date2"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择时间","value-format":"yyyyMMdd"},model:{value:e.ruleForm.date2,callback:function(r){e.$set(e.ruleForm,"date2",r)},expression:"ruleForm.date2"}})],1)],1)],1),t("el-form-item",{attrs:{label:"游玩偏好",prop:"playType"}},[t("el-radio-group",{model:{value:e.ruleForm.playType,callback:function(r){e.$set(e.ruleForm,"playType",r)},expression:"ruleForm.playType"}},[t("el-radio",{attrs:{label:"四处逛逛"}}),t("el-radio",{attrs:{label:"简单逛逛"}}),t("el-radio",{attrs:{label:"看看就走"}})],1)],1),t("el-form-item",{attrs:{label:"出行方式",prop:"gotype"}},[t("el-radio-group",{model:{value:e.ruleForm.gotype,callback:function(r){e.$set(e.ruleForm,"gotype",r)},expression:"ruleForm.gotype"}},[t("el-radio",{attrs:{label:"跟团"}}),t("el-radio",{attrs:{label:"自驾游"}}),t("el-radio",{attrs:{label:"火车"}}),t("el-radio",{attrs:{label:"飞机"}}),t("el-radio",{attrs:{label:"大巴"}})],1)],1),t("el-form-item",{attrs:{label:"住宿(元)",prop:"hotel"}},[t("el-radio-group",{model:{value:e.ruleForm.hotel,callback:function(r){e.$set(e.ruleForm,"hotel",r)},expression:"ruleForm.hotel"}},[t("el-radio",{attrs:{label:"100~300"}}),t("el-radio",{attrs:{label:"300~500"}}),t("el-radio",{attrs:{label:"500以上"}})],1)],1),t("div",[t("el-form-item",{attrs:{label:"预计花销"}},[t("el-tag",[e._v(e._s(""===e.allMoney?"暂无数据":e.allMoney+"元"))])],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("立即评估")]),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)])},l=[],o=t("1da1"),s=(t("96cf"),t("fb6a"),t("d81d"),t("b0c0"),t("b2df")),i={components:{MainTop:s["a"]},created:function(){this.getOptions()},data:function(){return{ruleForm:{mainType:"",distance:1,date1:"",date2:"",playType:"",gotype:"",hotel:""},selOptions:[{value:"工业遗产",label:"工业遗产",children:[]},{value:"工业博物馆",label:"工业博物馆",children:[]},{value:"工业旅游区",label:"工业旅游区",children:[]}],rules:{mainType:[{required:!0,message:"请选择出行目的地",trigger:"change"}],distance:[{required:!0,message:"请输入出行距离",trigger:"change"}],date1:[{required:!0,message:"请选择出发时间",trigger:"change"}],date2:[{required:!0,message:"请选择返回时间",trigger:"change"}],playType:[{required:!0,message:"请选择一个游玩偏好",trigger:"change"}],gotype:[{required:!0,message:"请选择出行方式",trigger:"change"}],hotel:[{required:!0,message:"请选择住宿条件价位",trigger:"change"}]},allMoney:""}},methods:{submitForm:function(e){var r=this;console.log(this.ruleForm),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;if(r.ruleForm.date2>r.ruleForm.date1){console.log(r.ruleForm),r.ruleForm.distance<40&&r.$message({showClose:!0,message:"您的出行距离较小，请注意检查是否正确"});var t=parseFloat(r.ruleForm.date1.slice(0,4)),a=parseFloat(r.ruleForm.date2.slice(0,4)),l=parseFloat(r.ruleForm.date1.slice(4,6)),o=parseFloat(r.ruleForm.date2.slice(4,6)),s=parseFloat(r.ruleForm.date1.slice(6)),i=parseFloat(r.ruleForm.date2.slice(6));a-t>0&&(o+=12*(a-t)),o-l>0&&(i+=30*(o-l),console.log("mon2 - mon1",o-l));var n=i-s,m=Math.floor(99*Math.random()+1),u=m+100;"跟团"===r.ruleForm.gotype||"火车"===r.ruleForm.gotype?u+=r.ruleForm.distance:"大巴"===r.ruleForm.gotype||"飞机"===r.ruleForm.gotype?u+=2*r.ruleForm.distance:"火车"===r.ruleForm.gotype&&(u+=3*r.ruleForm.distance),"四处逛逛"===r.ruleForm.playType?u+=1e3:"简单逛逛"===r.ruleForm.playType?u+=500:"看看就走"===r.ruleForm.playType&&(u+=300),"100~300"===r.ruleForm.hotel?u+=200*n:"300~500"===r.ruleForm.hotel?u+=400*n:"500以上"===r.ruleForm.hotel&&(u+=700*n),console.log("所有花销",u),r.allMoney=u,r.$notify({title:"成功",message:"预算评估成功",type:"success"})}else r.$message({showClose:!0,message:"结束时间请晚于开始时间",type:"warning"})}))},resetForm:function(e){this.$refs[e].resetFields()},getOptions:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var t,a,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.get("/getHeritageMainData/getHeritageMainData");case 2:return t=r.sent,e.selOptions[0].children=t.data.data.map((function(e){return{value:e,label:e.name}})),r.next=6,e.$axios.get("/getHeritageMuseum/getHeritageMuseum");case 6:return a=r.sent,e.selOptions[1].children=a.data.data.map((function(e){return{value:e,label:e.name}})),r.next=10,e.$axios.get("/getHeritageTourism/getHeritageTourism");case 10:l=r.sent,e.selOptions[2].children=l.data.data.map((function(e){return{value:e,label:e.name}}));case 12:case"end":return r.stop()}}),r)})))()}}},n=i,m=(t("60b8"),t("2877")),u=Object(m["a"])(n,a,l,!1,null,null,null);r["default"]=u.exports},fb6a:function(e,r,t){"use strict";var a=t("23e7"),l=t("da84"),o=t("e8b5"),s=t("68ee"),i=t("861d"),n=t("23cb"),m=t("07fa"),u=t("fc6a"),c=t("8418"),d=t("b622"),p=t("1dde"),g=t("f36a"),y=p("slice"),F=d("species"),f=l.Array,b=Math.max;a({target:"Array",proto:!0,forced:!y},{slice:function(e,r){var t,a,l,d=u(this),p=m(d),y=n(e,p),h=n(void 0===r?p:r,p);if(o(d)&&(t=d.constructor,s(t)&&(t===f||o(t.prototype))?t=void 0:i(t)&&(t=t[F],null===t&&(t=void 0)),t===f||void 0===t))return g(d,y,h);for(a=new(void 0===t?f:t)(b(h-y,0)),l=0;y<h;y++,l++)y in d&&c(a,l,d[y]);return a.length=l,a}})}}]);
//# sourceMappingURL=chunk-0c5a1e4a.0b45aded.js.map
{"version":3,"sources":["webpack:///./src/views/Heritage/HeritageAdd.vue?de78","webpack:///./src/components/MainTop.vue?093d","webpack:///./src/views/Heritage/HeritageAdd.vue?8e1b","webpack:///src/views/Heritage/HeritageAdd.vue","webpack:///./src/views/Heritage/HeritageAdd.vue?ad7e","webpack:///./src/views/Heritage/HeritageAdd.vue?422d","webpack:///./src/components/MainTop.vue?6190","webpack:///src/components/MainTop.vue","webpack:///./src/components/MainTop.vue?c2d8","webpack:///./src/components/MainTop.vue?bb32"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","lang","attrs","directives","name","rawName","value","newCoordinate","length","expression","on","getCoordinateP","ref","ruleForm","rules","model","callback","$$v","$set","staticStyle","minRows","mainImage","addImagesAll","$event","submitForm","resetForm","staticRenderFns","components","MainTop","computed","data","addType","address","type","company","jing","wei","start","prolevel","trvlevel","scelevel","brief","details","imagesAllurl","coordinate","methods","getapplyCoordinate","$router","push","formatTextarea","re","textarea","replace","console","log","split","arr","newarr","map","newStr","join","$refs","formName","validate","resetFields","file","reader","readAsDataURL","onload","component","_t","handleCommand","slot","leginOut","created","langChange","command","sessionStorage","removeItem"],"mappings":"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","file":"js/chunk-bb225944.da643405.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeritageAdd.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTop.vue?vue&type=style&index=0&id=0096d332&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"HeritageAdd\"},[_c('div',{staticClass:\"HeritageAdd-top\"},[_c('MainTop',[_vm._v(_vm._s(_vm.lang === \"zh_cn\" ? \"数据维护\" : \"Data maintenance\")+\" \"),_c('span',{staticClass:\"gang\"},[_vm._v(\" / \")]),_vm._v(\" \"+_vm._s(_vm.lang === \"zh_cn\" ? \"遗产管理\" : \"Heritage Management\")),_c('span',{staticClass:\"gang\"},[_vm._v(\" / \")]),_vm._v(\" \"+_vm._s(_vm.lang === \"zh_cn\" ? \"遗产添加\" : \"Heritage Add\"))])],1),_c('div',{staticClass:\"HeritageAdd-bottom padding15\"},[_c('el-alert',{attrs:{\"title\":_vm.lang === 'zh_cn'\n          ? '填写工业遗产、博物馆或工业旅游区的相关信息来添加一项遗产数据'\n          : 'Fill in information about industrial heritage, museums or industrial tourist areas to add a heritage data',\"type\":\"info\"}}),_c('br',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.newCoordinate.length === 0),expression:\"newCoordinate.length === 0\"}]}),_c('el-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.newCoordinate.length === 0),expression:\"newCoordinate.length === 0\"}],attrs:{\"title\":_vm.lang === 'zh_cn'\n          ? '请先拾取要添加的工业遗产的地理坐标'\n          : 'Please pick the geographical coordinates of the industrial heritage to be added first',\"type\":\"info\"}}),_c('br'),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.newCoordinate.length === 0),expression:\"newCoordinate.length === 0\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getCoordinateP}},[_vm._v(\"拾取遗产坐标位置\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.newCoordinate.length !== 0),expression:\"newCoordinate.length !== 0\"}],staticClass:\"main-box\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"size\":\"mini\",\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"添加类型\",\"prop\":\"addType\"}},[_c('el-radio-group',{model:{value:(_vm.ruleForm.addType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"addType\", $$v)},expression:\"ruleForm.addType\"}},[_c('el-radio',{attrs:{\"label\":\"工业遗产\"}}),_c('el-radio',{attrs:{\"label\":\"遗产博物馆\"}}),_c('el-radio',{attrs:{\"label\":\"工业旅游区\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"遗产名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"坐标经度\",\"prop\":\"jing\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.ruleForm.jing),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"jing\", $$v)},expression:\"ruleForm.jing\"}})],1),_c('el-form-item',{attrs:{\"label\":\"坐标纬度\",\"prop\":\"wei\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.ruleForm.wei),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"wei\", $$v)},expression:\"ruleForm.wei\"}}),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},on:{\"click\":_vm.getCoordinateP}},[_vm._v(\"重新拾取\")])],1),_c('el-form-item',{attrs:{\"label\":\"所在地址\",\"prop\":\"address\"}},[_c('el-input',{model:{value:(_vm.ruleForm.address),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"address\", $$v)},expression:\"ruleForm.address\"}})],1),_c('el-form-item',{attrs:{\"label\":\"始建年份\",\"prop\":\"start\"}},[_c('el-date-picker',{attrs:{\"type\":\"year\",\"value-format\":\"yyyy\",\"placeholder\":\"选择年\"},model:{value:(_vm.ruleForm.start),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"start\", $$v)},expression:\"ruleForm.start\"}})],1),_c('el-form-item',{attrs:{\"label\":\"遗产类型\",\"prop\":\"type\"}},[_c('el-input',{model:{value:(_vm.ruleForm.type),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"type\", $$v)},expression:\"ruleForm.type\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属公司\",\"prop\":\"company\"}},[_c('el-input',{model:{value:(_vm.ruleForm.company),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"company\", $$v)},expression:\"ruleForm.company\"}})],1),_c('el-form-item',{attrs:{\"label\":\"保护等级及再利用情况\"}},[_c('el-input',{model:{value:(_vm.ruleForm.prolevel),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"prolevel\", $$v)},expression:\"ruleForm.prolevel\"}})],1),_c('el-form-item',{attrs:{\"label\":\"工业旅游示范点等级\"}},[_c('el-input',{model:{value:(_vm.ruleForm.trvlevel),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"trvlevel\", $$v)},expression:\"ruleForm.trvlevel\"}})],1),_c('el-form-item',{attrs:{\"label\":\"旅游景区等级\"}},[_c('el-rate',{attrs:{\"texts\":['1A景区', '2A景区', '3A景区', '4A景区', '5A景区'],\"show-text\":\"\"},model:{value:(_vm.ruleForm.scelevel),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"scelevel\", $$v)},expression:\"ruleForm.scelevel\"}})],1),_c('el-form-item',{attrs:{\"label\":\"遗产简介\",\"prop\":\"brief\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2 },\"placeholder\":\"请输入遗产简介\"},model:{value:(_vm.ruleForm.brief),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"brief\", $$v)},expression:\"ruleForm.brief\"}})],1),_c('el-form-item',{attrs:{\"label\":\"详细介绍\",\"prop\":\"details\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2 },\"placeholder\":\"请输入详细介绍\"},model:{value:(_vm.ruleForm.details),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"details\", $$v)},expression:\"ruleForm.details\"}})],1)],1),_c('el-divider'),_c('el-alert',{attrs:{\"title\":_vm.lang === 'zh_cn'\n            ? '请选择封面图片，注意封面图片仅允许上传一张，多次上传仅最后一张图会展示'\n            : 'Please select a cover image. Note that only one cover image can be uploaded, and only the last image will be displayed after multiple uploads',\"type\":\"info\"}}),_c('br'),_c('input',{attrs:{\"type\":\"file\",\"multiple\":\"multiple\"},on:{\"change\":_vm.mainImage}}),_c('br'),_c('el-divider'),_c('el-alert',{attrs:{\"title\":_vm.lang === 'zh_cn'\n            ? '请选择工业遗产详细图片，可以上传多张'\n            : 'Please select a detailed picture of industrial heritage. You can upload multiple pictures',\"type\":\"info\"}}),_c('br'),_c('input',{attrs:{\"type\":\"file\",\"multiple\":\"multiple\"},on:{\"change\":_vm.addImagesAll}}),_c('el-divider'),_c('div',{staticClass:\"subBtn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"立即创建\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"清空提示\")])],1)],1)],1),_c('div',{staticClass:\"HeritageAdd-images\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 工业遗产等三项内容添加 -->\r\n  <div class=\"HeritageAdd\">\r\n    <div class=\"HeritageAdd-top\">\r\n      <MainTop\r\n        >{{ lang === \"zh_cn\" ? \"数据维护\" : \"Data maintenance\" }}\r\n        <span class=\"gang\"> / </span>\r\n        {{ lang === \"zh_cn\" ? \"遗产管理\" : \"Heritage Management\"\r\n        }}<span class=\"gang\"> / </span>\r\n        {{ lang === \"zh_cn\" ? \"遗产添加\" : \"Heritage Add\" }}</MainTop\r\n      >\r\n    </div>\r\n\r\n    <div class=\"HeritageAdd-bottom padding15\">\r\n      <el-alert\r\n        :title=\"\r\n          lang === 'zh_cn'\r\n            ? '填写工业遗产、博物馆或工业旅游区的相关信息来添加一项遗产数据'\r\n            : 'Fill in information about industrial heritage, museums or industrial tourist areas to add a heritage data'\r\n        \"\r\n        type=\"info\"\r\n      >\r\n      </el-alert>\r\n      <br v-show=\"newCoordinate.length === 0\" />\r\n      <el-alert\r\n        :title=\"\r\n          lang === 'zh_cn'\r\n            ? '请先拾取要添加的工业遗产的地理坐标'\r\n            : 'Please pick the geographical coordinates of the industrial heritage to be added first'\r\n        \"\r\n        type=\"info\"\r\n        v-show=\"newCoordinate.length === 0\"\r\n      >\r\n      </el-alert>\r\n\r\n      <br />\r\n      <el-button\r\n        type=\"primary\"\r\n        @click=\"getCoordinateP\"\r\n        v-show=\"newCoordinate.length === 0\"\r\n        >拾取遗产坐标位置</el-button\r\n      >\r\n\r\n      <div class=\"main-box\" v-show=\"newCoordinate.length !== 0\">\r\n        <el-form\r\n          size=\"mini\"\r\n          :model=\"ruleForm\"\r\n          :rules=\"rules\"\r\n          ref=\"ruleForm\"\r\n          label-width=\"100px\"\r\n          class=\"demo-ruleForm\"\r\n        >\r\n          <el-form-item label=\"添加类型\" prop=\"addType\">\r\n            <el-radio-group v-model=\"ruleForm.addType\">\r\n              <el-radio label=\"工业遗产\"></el-radio>\r\n              <el-radio label=\"遗产博物馆\"></el-radio>\r\n              <el-radio label=\"工业旅游区\"></el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n          <el-form-item label=\"遗产名称\" prop=\"name\">\r\n            <el-input v-model=\"ruleForm.name\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"坐标经度\" prop=\"jing\">\r\n            <el-input style=\"width: 200px\" v-model=\"ruleForm.jing\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"坐标纬度\" prop=\"wei\">\r\n            <el-input style=\"width: 200px\" v-model=\"ruleForm.wei\"></el-input>\r\n            <el-button @click=\"getCoordinateP\" style=\"margin-left: 10px\"\r\n              >重新拾取</el-button\r\n            >\r\n          </el-form-item>\r\n          <el-form-item label=\"所在地址\" prop=\"address\">\r\n            <el-input v-model=\"ruleForm.address\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"始建年份\" prop=\"start\">\r\n            <el-date-picker\r\n              v-model=\"ruleForm.start\"\r\n              type=\"year\"\r\n              value-format=\"yyyy\"\r\n              placeholder=\"选择年\"\r\n            >\r\n            </el-date-picker>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"遗产类型\" prop=\"type\">\r\n            <el-input v-model=\"ruleForm.type\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"所属公司\" prop=\"company\">\r\n            <el-input v-model=\"ruleForm.company\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"保护等级及再利用情况\">\r\n            <el-input v-model=\"ruleForm.prolevel\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"工业旅游示范点等级\">\r\n            <el-input v-model=\"ruleForm.trvlevel\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"旅游景区等级\">\r\n            <el-rate\r\n              :texts=\"['1A景区', '2A景区', '3A景区', '4A景区', '5A景区']\"\r\n              v-model=\"ruleForm.scelevel\"\r\n              show-text\r\n            >\r\n            </el-rate>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"遗产简介\" prop=\"brief\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              :autosize=\"{ minRows: 2 }\"\r\n              placeholder=\"请输入遗产简介\"\r\n              v-model=\"ruleForm.brief\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"详细介绍\" prop=\"details\">\r\n            <el-input\r\n              type=\"textarea\"\r\n              :autosize=\"{ minRows: 2 }\"\r\n              placeholder=\"请输入详细介绍\"\r\n              v-model=\"ruleForm.details\"\r\n            >\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n\r\n        <el-divider></el-divider>\r\n        <el-alert\r\n          :title=\"\r\n            lang === 'zh_cn'\r\n              ? '请选择封面图片，注意封面图片仅允许上传一张，多次上传仅最后一张图会展示'\r\n              : 'Please select a cover image. Note that only one cover image can be uploaded, and only the last image will be displayed after multiple uploads'\r\n          \"\r\n          type=\"info\"\r\n        >\r\n        </el-alert>\r\n        <br />\r\n        <input type=\"file\" multiple=\"multiple\" @change=\"mainImage\" />\r\n        <br />\r\n        <el-divider></el-divider>\r\n        <el-alert\r\n          :title=\"\r\n            lang === 'zh_cn'\r\n              ? '请选择工业遗产详细图片，可以上传多张'\r\n              : 'Please select a detailed picture of industrial heritage. You can upload multiple pictures'\r\n          \"\r\n          type=\"info\"\r\n        >\r\n        </el-alert>\r\n        <br />\r\n        <!-- 上传详细图片 -->\r\n        <input type=\"file\" multiple=\"multiple\" @change=\"addImagesAll\" />\r\n        <el-divider></el-divider>\r\n\r\n        <div class=\"subBtn\">\r\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\"\r\n            >立即创建</el-button\r\n          >\r\n          <el-button @click=\"resetForm('ruleForm')\">清空提示</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"HeritageAdd-images\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MainTop from \"../../components/MainTop.vue\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  components: {\r\n    MainTop,\r\n  },\r\n  name: \"HeritageAdd\",\r\n\r\n  computed: {\r\n    ...mapState([\"lang\"]),\r\n    ...mapState([\"newCoordinate\", \"instryType\"]),\r\n  },\r\n  async created() {\r\n    // 将坐标拾取状态改为add\r\n    this.changeCoordinateType(\"add\");\r\n    console.log(this.$route);\r\n    if (this.$route.params.editid !== \"add\") {\r\n      var res = \"\";\r\n\r\n      if (this.instryType === \"one\") {\r\n        res = await this.$axios.post(\r\n          \"https://790d5b85-9674-4a89-9bcc-c0657ea369be.bspapp.com/mainFun/getOneHeritageMainData/getOneHeritageMainData\",\r\n          {\r\n            _id: this.$route.params.editid,\r\n          }\r\n        );\r\n      } else if (this.instryType === \"two\") {\r\n        res = await this.$axios.post(\r\n          \"https://790d5b85-9674-4a89-9bcc-c0657ea369be.bspapp.com/mainFun/getOneHeritageMuseum/getOneHeritageMuseum\",\r\n          {\r\n            _id: this.$route.params.editid,\r\n          }\r\n        );\r\n      } else if (this.instryType === \"three\") {\r\n        res = await this.$axios.post(\r\n          \"https://790d5b85-9674-4a89-9bcc-c0657ea369be.bspapp.com/mainFun/getOneHeritageTourism/getOneHeritageTourism\",\r\n          {\r\n            _id: this.$route.params.editid,\r\n          }\r\n        );\r\n      }\r\n\r\n      console.log(res.data.data);\r\n\r\n      this.ruleForm = res.data.data[0];\r\n      this.getCoordinate(res.data.data[0].coordinate);\r\n    } else {\r\n      this.ruleForm.jing = this.newCoordinate[0];\r\n      this.ruleForm.wei = this.newCoordinate[1];\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      ruleForm: {\r\n        addType: \"\", //添加类型\r\n        name: \"\", //遗产名称\r\n        address: \"\", //遗产地址\r\n\r\n        type: \"\", //类型\r\n        company: \"\", //所属公司\r\n        jing: 0,\r\n        wei: 0,\r\n        start: \"\", //年份\r\n        prolevel: \"\", //保护等级及再利用情况（部分有，选择展示）\r\n        trvlevel: \"\", //工业旅游示范点等级（部分有，选择展示）\r\n        scelevel: null, //旅游景区等级（部分有，选择展示）\r\n        brief: \"\", //简介\r\n        details: \"\", //详细介绍\r\n        mainImage: \"\", //封面图片\r\n        imagesAllurl: [], //相关图片\r\n        coordinate: [],\r\n      },\r\n      // imgobj: {},\r\n      rules: {\r\n        addType: [\r\n          { required: true, message: \"请选择添加类型\", trigger: \"change\" },\r\n        ],\r\n        name: [\r\n          { required: true, message: \"请输入工业遗产名称\", trigger: \"blur\" },\r\n          { min: 3, message: \"长度在不少于3个字符\", trigger: \"blur\" },\r\n        ],\r\n        address: [\r\n          {\r\n            required: true,\r\n            message: \"请选择工业遗产所在地址\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        type: [\r\n          {\r\n            required: true,\r\n            message: \"请输入工业遗产类型\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        company: [\r\n          {\r\n            required: true,\r\n            message: \"请输入工业遗产所属公司\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        start: [\r\n          {\r\n            required: true,\r\n            message: \"请选择遗产始建年份\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        brief: [\r\n          {\r\n            required: true,\r\n            message: \"请输入工业遗产简介\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        details: [\r\n          {\r\n            required: true,\r\n            message: \"请输入工业遗产详细介绍\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        jing: [\r\n          {\r\n            required: true,\r\n            message: \"请输入工业遗产坐标\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n        wei: [\r\n          {\r\n            required: true,\r\n            message: \"请输入工业遗产坐标\",\r\n            trigger: \"change\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations([\r\n      \"getCoordinate\",\r\n      \"changeCoordinateType\",\r\n      \"getapplyCoordinate\",\r\n    ]),\r\n\r\n    //跳转页面拾取坐标位置\r\n    getCoordinateP() {\r\n      this.getapplyCoordinate([]);\r\n      this.$router.push(\"/get/coordinate\");\r\n    },\r\n\r\n    //获取文本域内容并并自动换行缩进\r\n    formatTextarea(textarea) {\r\n      var re = /\\n/g;\r\n      textarea = textarea.replace(re, \"<br>\");\r\n\r\n      console.log(textarea.split(\"<br>\"));\r\n      var arr = textarea.split(\"<br>\");\r\n      var newarr = arr.map((ele) => \"<p class='test'>\" + ele + \"</p>\");\r\n      var newStr = newarr.join(\"\");\r\n      textarea = newStr;\r\n      console.log();\r\n    },\r\n\r\n    submitForm(formName) {\r\n      console.log(this.ruleForm);\r\n      this.$refs[formName].validate(async (valid) => {\r\n        if (valid) {\r\n          // alert(\"submit!\");\r\n          if (\r\n            this.ruleForm.mainImage !== \"\" &&\r\n            this.ruleForm.imagesAllurl.length !== 0\r\n          ) {\r\n            // 格式化遗产简介\r\n            if (this.ruleForm.brief !== \"\") {\r\n              var re = /\\n/g;\r\n              this.ruleForm.brief = this.ruleForm.brief.replace(re, \"<br>\");\r\n\r\n              console.log(this.ruleForm.brief.split(\"<br>\"));\r\n              var arr = this.ruleForm.brief.split(\"<br>\");\r\n              var newarr = arr.map((ele) => \"<p class='test'>\" + ele + \"</p>\");\r\n              var newStr = newarr.join(\"\");\r\n              this.ruleForm.brief = newStr;\r\n            } else {\r\n              this.$message.error(\"请完善遗产简介\");\r\n            }\r\n            // 格式化遗产详细介绍\r\n            if (this.ruleForm.details !== \"\") {\r\n              var re2 = /\\n/g;\r\n              this.ruleForm.details = this.ruleForm.details.replace(\r\n                re2,\r\n                \"<br>\"\r\n              );\r\n\r\n              console.log(this.ruleForm.details.split(\"<br>\"));\r\n              var arr2 = this.ruleForm.details.split(\"<br>\");\r\n              var newarr2 = arr2.map(\r\n                (ele) => \"<p class='test'>\" + ele + \"</p>\"\r\n              );\r\n              var newStr2 = newarr2.join(\"\");\r\n              this.ruleForm.details = newStr2;\r\n            } else {\r\n              this.$message.error(\"请完善遗产简介\");\r\n            }\r\n\r\n            this.ruleForm.coordinate = [this.ruleForm.jing, this.ruleForm.wei];\r\n            // 格式已经处理完毕，下面发送请求\r\n\r\n            // 发送请求;\r\n            if (this.$route.params.editid !== \"add\") {\r\n              // 编辑部分\r\n              if (this.ruleForm.addType === \"工业遗产\") {\r\n                var res = await this.$axios.post(\r\n                  \"https://790d5b85-9674-4a89-9bcc-c0657ea369be.bspapp.com/mainFun/editHeritageMainData/editHeritageMainData\",\r\n                  this.ruleForm\r\n                );\r\n                console.log(\"res====\", res);\r\n                if (res.status === 200) {\r\n                  this.$message({\r\n                    message: \"工业遗产信息编辑成功\",\r\n                    type: \"success\",\r\n                  });\r\n                  this.getCoordinate([]); //将拾取到的坐标清空\r\n                  this.$router.push(\"/data/manage\");\r\n                }\r\n              }\r\n              // --------------\r\n              if (this.ruleForm.addType === \"遗产博物馆\") {\r\n                res = await this.$axios.post(\r\n                  \"https://790d5b85-9674-4a89-9bcc-c0657ea369be.bspapp.com/mainFun/editHeritageMuseum/editHeritageMuseum\",\r\n                  this.ruleForm\r\n                );\r\n                console.log(\"res====\", res);\r\n                if (res.status === 200) {\r\n                  this.$message({\r\n                    message: \"遗产博物馆信息编辑成功\",\r\n                    type: \"success\",\r\n                  });\r\n                  this.getCoordinate([]); //将拾取到的坐标清空\r\n                  this.$router.push(\"/data/manage\");\r\n                }\r\n              }\r\n              // --------------\r\n\r\n              if (this.ruleForm.addType === \"工业旅游区\") {\r\n                res = await this.$axios.post(\r\n                  \"https://790d5b85-9674-4a89-9bcc-c0657ea369be.bspapp.com/mainFun/editHeritageTourism/editHeritageTourism\",\r\n                  this.ruleForm\r\n                );\r\n                console.log(\"res====\", res);\r\n                if (res.status === 200) {\r\n                  this.$message({\r\n                    message: \"工业旅游区信息编辑成功\",\r\n                    type: \"success\",\r\n                  });\r\n                  this.getCoordinate([]); //将拾取到的坐标清空\r\n                  this.$router.push(\"/data/manage\");\r\n                }\r\n              }\r\n            } else {\r\n              // 添加部分\r\n              if (this.ruleForm.addType === \"工业遗产\") {\r\n                var res2 = await this.$axios.post(\r\n                  \"https://790d5b85-9674-4a89-9bcc-c0657ea369be.bspapp.com/mainFun/postHeritageMainData/postHeritageMainData\",\r\n                  this.ruleForm\r\n                );\r\n                // console.log(\"res====\", res2);\r\n                if (res2.status === 200) {\r\n                  this.$message({\r\n                    message: \"工业遗产信息添加成功\",\r\n                    type: \"success\",\r\n                  });\r\n                  this.getCoordinate([]); //将拾取到的坐标清空\r\n                  this.$router.push(\"/data/manage\");\r\n                }\r\n              } else if (this.ruleForm.addType === \"遗产博物馆\") {\r\n                // console.log(1);\r\n\r\n                var resMuseum = await this.$axios.post(\r\n                  \"https://790d5b85-9674-4a89-9bcc-c0657ea369be.bspapp.com/mainFun/postHeritageMuseum/postHeritageMuseum\",\r\n                  this.ruleForm\r\n                );\r\n                // console.log(\"res====\", res2);\r\n                if (resMuseum.status === 200) {\r\n                  this.$message({\r\n                    message: \"遗产博物馆信息添加成功\",\r\n                    type: \"success\",\r\n                  });\r\n                  this.getCoordinate([]); //将拾取到的坐标清空\r\n                  this.$router.push(\"/data/manage\");\r\n                }\r\n              } else if (this.ruleForm.addType === \"工业旅游区\") {\r\n                var resTourism = await this.$axios.post(\r\n                  \"https://790d5b85-9674-4a89-9bcc-c0657ea369be.bspapp.com/mainFun/postHeritageTourism/postHeritageTourism\",\r\n                  this.ruleForm\r\n                );\r\n                // console.log(\"res====\", res2);\r\n                if (resTourism.status === 200) {\r\n                  this.$message({\r\n                    message: \"工业旅游区信息添加成功\",\r\n                    type: \"success\",\r\n                  });\r\n                  this.getCoordinate([]); //将拾取到的坐标清空\r\n                  this.$router.push(\"/data/manage\");\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            this.$message.error(\"请上传遗产相关图片\");\r\n          }\r\n\r\n          console.log(this.ruleForm);\r\n        } else {\r\n          this.$message.error(\"请检查完善相关信息\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n\r\n    // 封面图片上传\r\n    mainImage(e) {\r\n      const file = e.target.files[0];\r\n      console.log(file);\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      // var that = this;\r\n      reader.onload = async (event) => {\r\n        let dataUrl = (this.src = event.target.result);\r\n        var res = await this.$axios.post(\r\n          \"https://790d5b85-9674-4a89-9bcc-c0657ea369be.bspapp.com/image\",\r\n          {\r\n            dataUrl,\r\n            name: file.name,\r\n          }\r\n        );\r\n\r\n        if (res.status === 200) {\r\n          console.log(res);\r\n          this.$message({\r\n            message: \"图片上传成功\",\r\n            type: \"success\",\r\n          });\r\n\r\n          // console.log(this.ruleForm.mainImageurl);\r\n          this.ruleForm.mainImage = res.data.fileID;\r\n        } else {\r\n          this.$message.error(\"图片上传失败，请检查网络设置\");\r\n        }\r\n      };\r\n    },\r\n    // 展示图片上传\r\n    addImagesAll(e) {\r\n      const file = e.target.files[0];\r\n      console.log(file);\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = async (event) => {\r\n        let dataUrl = (this.src = event.target.result);\r\n        var res = await this.$axios.post(\r\n          \"https://790d5b85-9674-4a89-9bcc-c0657ea369be.bspapp.com/image\",\r\n          {\r\n            dataUrl,\r\n            name: file.name,\r\n          }\r\n        );\r\n\r\n        if (res.status === 200) {\r\n          this.$message({\r\n            message: \"图片上传成功\",\r\n            type: \"success\",\r\n          });\r\n\r\n          this.ruleForm.imagesAllurl.push(res.data.fileID);\r\n        } else {\r\n          this.$message.error(\"图片上传失败，请检查网络设置\");\r\n        }\r\n        // console.log(res);\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n/* .HeritageAdd {\r\n  overflow: auto;\r\n} */\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeritageAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeritageAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeritageAdd.vue?vue&type=template&id=6a9f0ad8&\"\nimport script from \"./HeritageAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./HeritageAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HeritageAdd.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-top\"},[_c('div',{staticClass:\"main-top-left\"},[_c('span',{staticClass:\"el-icon-arrow-left\"}),_c('span',[_vm._t(\"default\")],2)]),_c('div',{staticClass:\"main-top-right\"},[_c('div',{staticClass:\"btnBox\"},[_c('el-dropdown',{on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\" \"+_vm._s(_vm.lang === \"zh_cn\" ? \"中文\" : \"English\")),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"zh_cn\"}},[_vm._v(\" \"+_vm._s(_vm.lang === \"zh_cn\" ? \"中文\" : \"Chinese\"))]),_c('el-dropdown-item',{attrs:{\"command\":\"zh_en\"}},[_vm._v(\" \"+_vm._s(_vm.lang === \"zh_cn\" ? \"英文\" : \"English\"))])],1)],1),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"text\"},on:{\"click\":_vm.leginOut}},[_vm._v(\" \"+_vm._s(_vm.lang === \"zh_cn\" ? \"退出登陆\" : \"SignOut\"))])],1),_c('el-avatar',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"shape\":\"square\",\"size\":\"small\",\"src\":\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/5f0c8b2c-22e0-42f3-9ed3-539de3652c08.jpg\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"main-top\">\r\n    <div class=\"main-top-left\">\r\n      <span class=\"el-icon-arrow-left\"></span>\r\n      <span> <slot></slot></span>\r\n    </div>\r\n    <div class=\"main-top-right\">\r\n      <div class=\"btnBox\">\r\n        <el-dropdown @command=\"handleCommand\">\r\n          <span class=\"el-dropdown-link\">\r\n            {{ lang === \"zh_cn\" ? \"中文\" : \"English\"\r\n            }}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n          </span>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item command=\"zh_cn\">\r\n              {{ lang === \"zh_cn\" ? \"中文\" : \"Chinese\" }}</el-dropdown-item\r\n            >\r\n            <el-dropdown-item command=\"zh_en\">\r\n              {{ lang === \"zh_cn\" ? \"英文\" : \"English\" }}</el-dropdown-item\r\n            >\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n        <el-button type=\"text\" style=\"margin-left: 10px\" @click=\"leginOut\">\r\n          {{ lang === \"zh_cn\" ? \"退出登陆\" : \"SignOut\" }}</el-button\r\n        >\r\n      </div>\r\n      <el-avatar\r\n        style=\"margin-left: 10px\"\r\n        shape=\"square\"\r\n        size=\"small\"\r\n        src=\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/5f0c8b2c-22e0-42f3-9ed3-539de3652c08.jpg\"\r\n      ></el-avatar>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"MainTop\",\r\n\r\n  created() {\r\n    // console.log(this.lang);\r\n  },\r\n\r\n  computed: {\r\n    ...mapState([\"lang\"]),\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations([\"langChange\"]),\r\n\r\n    handleCommand(command) {\r\n      // console.log(command);\r\n      this.langChange(command);\r\n    },\r\n\r\n    leginOut() {\r\n      // console.log(11);\r\n      // sessionStorage.setItem(\"username\", null);\r\n      sessionStorage.removeItem(\"username\");\r\n      this.$router.push(\"/heritage/login\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.main-top {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 0 10px;\r\n  /* border-bottom: 1px; */\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\r\n}\r\n.main-top .main-top-left {\r\n  display: flex;\r\n  align-items: center;\r\n  color: #444;\r\n  font-size: 15px !important;\r\n}\r\n.main-top .main-top-right {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.el-dropdown-link {\r\n  cursor: pointer;\r\n  color: #40a0fffd;\r\n}\r\n.el-icon-arrow-down {\r\n  font-size: 12px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainTop.vue?vue&type=template&id=0096d332&scoped=true&\"\nimport script from \"./MainTop.vue?vue&type=script&lang=js&\"\nexport * from \"./MainTop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainTop.vue?vue&type=style&index=0&id=0096d332&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0096d332\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
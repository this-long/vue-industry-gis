(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66df8736"],{"2bcc":function(a,t,e){},"534d":function(a,t,e){"use strict";e("2bcc")},"7db0":function(a,t,e){"use strict";var n=e("23e7"),i=e("b727").find,c=e("44d2"),s="find",d=!0;s in[]&&Array(1)[s]((function(){d=!1})),n({target:"Array",proto:!0,forced:d},{find:function(a){return i(this,a,arguments.length>1?arguments[1]:void 0)}}),c(s)},"95f2":function(a,t,e){"use strict";e.r(t);var n=function(){var a=this,t=a.$createElement;a._self._c;return a._m(0)},i=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"heritage-Hot-Map"},[e("div",{staticClass:"heritage-industry"},[e("div",{staticClass:"container",attrs:{id:"container"}}),e("div",{staticClass:"legend-repair"},[e("h4",[a._v("图例")]),e("div",{staticClass:"legend-che"},[e("img",{attrs:{src:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/ada663f6-8e24-43bc-a6c1-ce12f7f19d66.png",alt:""}}),e("span",[a._v("待审批遗产")])]),e("div",{staticClass:"legend-che"},[e("img",{attrs:{src:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/c4c8e30e-ed9a-4c0f-bca5-9019ca48a4aa.png",alt:""}}),e("span",[a._v("处理中遗产")])]),e("div",{staticClass:"legend-che"},[e("img",{attrs:{src:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/7f483aa8-7a31-4f3d-a84f-c5290712424d.png",alt:""}}),e("span",[a._v("已驳回遗产")])]),e("div",{staticClass:"legend-che"},[e("img",{attrs:{src:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/ad32d37e-82bc-4c73-8859-eda876b59683.png",alt:""}}),e("span",[a._v("已完成遗产")])])])])])}],c=e("1da1"),s=e("5530"),d=(e("96cf"),e("d81d"),e("ac1f"),e("841c"),e("4de4"),e("d3b7"),e("7db0"),e("b0c0"),e("a15b"),e("2f62")),o={components:{},data:function(){return{map:"",district:null,polygons:[],markers:[],marker:null,dataListPending:[],dataListAdopt:[],dataListReject:[],dataListIsend:[],datalist:[]}},created:function(){},mounted:function(){this.initMap(),this.addMarker(),this.drawBounds()},computed:Object(s["a"])({},Object(d["c"])(["lang"])),methods:{initMap:function(){this.map=new AMap.Map("container",{resizeEnable:!0,zoom:8,zooms:[6.5,18],center:[115.464523,38.874476],viewMode:"3D",lang:this.lang,mapStyle:"amap://styles/db9efe6a1745ac24b7269b862f359536",infoWindow:null})},drawBounds:function(){if(!this.district){var a={subdistrict:0,extensions:"all",level:"province"};this.district=new AMap.DistrictSearch(a)}this.district.setLevel("province");var t=this;this.district.search("河北省",(function(a,e){var n=[new AMap.LngLat(-360,90,!0),new AMap.LngLat(-360,-90,!0),new AMap.LngLat(360,-90,!0),new AMap.LngLat(360,90,!0)],i=e.districtList[0].boundaries,c=[n];c.push.apply(c,i);var s=new AMap.Polygon({pathL:c,strokeColor:"#F9D5A7",strokeWeight:1,fillColor:"#F9D5A7",fillOpacity:.2});s.setPath(c),t.map.add(s)}))},addMarker:function(){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=null,t.next=3,a.$axios.get("/getApplyRepairData/getApplyRepairData");case 3:for(e=t.sent,console.log("报修列表",e),a.dataListPending=e.data.data.filter((function(a){return"pending"===a.approvalStatus})),a.dataListAdopt=e.data.data.filter((function(t){var e=a.dataListPending.find((function(a){return a.name===t.name}));return"adopt"===t.approvalStatus&&!e})),a.dataListReject=e.data.data.filter((function(t){var e=a.dataListPending.find((function(a){return a.name===t.name})),n=a.dataListAdopt.find((function(a){return a.name===t.name}));return"reject"===t.approvalStatus&&!e&&!n})),a.dataListIsend=e.data.data.filter((function(t){var e=a.dataListPending.find((function(a){return a.name===t.name})),n=a.dataListAdopt.find((function(a){return a.name===t.name})),i=a.dataListReject.find((function(a){return a.name===t.name}));return"isend"===t.approvalStatus&&!e&&!n&&!i})),console.log("已完成列表",a.dataListIsend),a.datalist=[a.dataListPending,a.dataListAdopt,a.dataListReject,a.dataListIsend],console.log("点位绘制完成",a.datalist),n=function(t){for(var e=function(e){var n=void 0;0===t?n=new AMap.Marker({icon:new AMap.Icon({image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/ada663f6-8e24-43bc-a6c1-ce12f7f19d66.png",size:new AMap.Size(40,40),imageSize:new AMap.Size(40,40)}),map:a.map,position:a.datalist[t][e].coordinate,extData:a.datalist[t][e]}):1===t?n=new AMap.Marker({icon:new AMap.Icon({image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/c4c8e30e-ed9a-4c0f-bca5-9019ca48a4aa.png",size:new AMap.Size(40,40),imageSize:new AMap.Size(40,40)}),map:a.map,position:a.datalist[t][e].coordinate,extData:a.datalist[t][e]}):2===t?n=new AMap.Marker({icon:new AMap.Icon({image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/7f483aa8-7a31-4f3d-a84f-c5290712424d.png",size:new AMap.Size(40,40),imageSize:new AMap.Size(40,40)}),map:a.map,position:a.datalist[t][e].coordinate,extData:a.datalist[t][e]}):3===t&&(n=new AMap.Marker({icon:new AMap.Icon({image:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/ad32d37e-82bc-4c73-8859-eda876b59683.png",size:new AMap.Size(40,40),imageSize:new AMap.Size(40,40)}),map:a.map,position:a.datalist[t][e].coordinate,extData:a.datalist[t][e]})),a.markers.push(n),console.log("点位绘制完成"),AMap.event.addListener(n,"click",(function(){a.title=a.datalist[t][e].name+'<span style="font-size:11px;">建于：'+a.datalist[t][e].start+"</span>",a.content=["<img src='"+a.datalist[t][e].mainImage+"'style='wtdth:100px;height:auto;'>申请人："+a.datalist[t][e].applyName,"申请类型："+a.datalist[t][e].repairType,"联系方式："+a.datalist[t][e].phone,'<a href="#/repair/approve" class="xiangxi">详细信息</a>'],a.infoWindow=new AMap.InfoWindow({isCustom:!0,content:a.createInfoWindow(a.title,a.content.join("<br/>")),offset:new AMap.Pixel(16,-45)}),a.infoWindow.open(a.map,n.getPosition())}))},n=0;n<a.datalist[t].length;n++)e(n)},i=0;i<a.datalist.length;i++)n(i);case 14:case"end":return t.stop()}}),t)})))()},createInfoWindow:function(a,t){var e=document.createElement("div");e.className="custom-info input-card content-window-card";var n=document.createElement("div"),i=document.createElement("div"),c=document.createElement("img");n.className="info-top",i.innerHTML=a,c.src="https://webapi.amap.com/images/close2.gif",c.onclick=this.closeInfoWindow,n.appendChild(i),n.appendChild(c),e.appendChild(n);var s=document.createElement("div");s.className="info-middle",s.style.backgroundColor="white",s.innerHTML=t,e.appendChild(s);var d=document.createElement("div");d.className="info-bottom",d.style.position="relative",d.style.top="0px",d.style.margin="0 auto";var o=document.createElement("img");return o.src="https://webapi.amap.com/images/sharp.png",d.appendChild(o),e.appendChild(d),e},closeInfoWindow:function(){this.map.clearInfoWindow(),this.searchIndustry=null}}},r=o,p=(e("534d"),e("2877")),l=Object(p["a"])(r,n,i,!1,null,"616cce23",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-66df8736.7714a877.js.map
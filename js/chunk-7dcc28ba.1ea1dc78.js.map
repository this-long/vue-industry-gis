{"version":3,"sources":["webpack:///./src/components/MainTop.vue?189d","webpack:///src/components/MainTop.vue","webpack:///./src/components/MainTop.vue?c2d8","webpack:///./src/components/MainTop.vue?bb32","webpack:///./src/components/MainTop.vue?e1ba","webpack:///./src/views/Heritage/ApplyRepair.vue?0878","webpack:///src/views/Heritage/ApplyRepair.vue","webpack:///./src/views/Heritage/ApplyRepair.vue?064e","webpack:///./src/views/Heritage/ApplyRepair.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_t","on","handleCommand","_v","_s","lang","attrs","slot","staticStyle","staticRenderFns","name","created","computed","methods","langChange","command","component","ref","ruleForm","rules","model","value","callback","$$v","$set","expression","minRows","isPart","_e","addImagesAll","$event","submitForm","components","MainTop","data","applyName","phone","addType","address","type","company","jing","wei","start","mainImage","coordinate","approvalStatus","approvalComments","rejectComment","repairType","repairMain","imagesAllurl","partMain","$refs","formName","validate","console","log","file","reader","readAsDataURL","onload"],"mappings":"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","file":"js/chunk-7dcc28ba.1ea1dc78.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-top\"},[_c('div',{staticClass:\"main-top-left\"},[_c('span',{staticClass:\"el-icon-arrow-left\"}),_c('span',[_vm._t(\"default\")],2)]),_c('div',{staticClass:\"main-top-right\"},[_c('div',{staticClass:\"btnBox\"},[_c('el-dropdown',{on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\" \"+_vm._s(_vm.lang === \"zh_cn\" ? \"中文\" : \"English\")),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"zh_cn\"}},[_vm._v(\" \"+_vm._s(_vm.lang === \"zh_cn\" ? \"中文\" : \"Chinese\"))]),_c('el-dropdown-item',{attrs:{\"command\":\"zh_en\"}},[_vm._v(\" \"+_vm._s(_vm.lang === \"zh_cn\" ? \"英文\" : \"English\"))])],1)],1),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"text\"}},[_vm._v(\" \"+_vm._s(_vm.lang === \"zh_cn\" ? \"退出登陆\" : \"SignOut\"))])],1),_c('el-avatar',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"shape\":\"square\",\"size\":\"small\",\"src\":\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/5f0c8b2c-22e0-42f3-9ed3-539de3652c08.jpg\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"main-top\">\r\n    <div class=\"main-top-left\">\r\n      <span class=\"el-icon-arrow-left\"></span>\r\n      <span> <slot></slot></span>\r\n    </div>\r\n    <div class=\"main-top-right\">\r\n      <div class=\"btnBox\">\r\n        <el-dropdown @command=\"handleCommand\">\r\n          <span class=\"el-dropdown-link\">\r\n            {{ lang === \"zh_cn\" ? \"中文\" : \"English\"\r\n            }}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n          </span>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item command=\"zh_cn\">\r\n              {{ lang === \"zh_cn\" ? \"中文\" : \"Chinese\" }}</el-dropdown-item\r\n            >\r\n            <el-dropdown-item command=\"zh_en\">\r\n              {{ lang === \"zh_cn\" ? \"英文\" : \"English\" }}</el-dropdown-item\r\n            >\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n        <el-button type=\"text\" style=\"margin-left: 10px\">\r\n          {{ lang === \"zh_cn\" ? \"退出登陆\" : \"SignOut\" }}</el-button\r\n        >\r\n      </div>\r\n      <el-avatar\r\n        style=\"margin-left: 10px\"\r\n        shape=\"square\"\r\n        size=\"small\"\r\n        src=\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/5f0c8b2c-22e0-42f3-9ed3-539de3652c08.jpg\"\r\n      ></el-avatar>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"MainTop\",\r\n\r\n  created() {\r\n    // console.log(this.lang);\r\n  },\r\n\r\n  computed: {\r\n    ...mapState([\"lang\"]),\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations([\"langChange\"]),\r\n\r\n    handleCommand(command) {\r\n      // console.log(command);\r\n      this.langChange(command);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.main-top {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 0 10px;\r\n  /* border-bottom: 1px; */\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\r\n}\r\n.main-top .main-top-left {\r\n  display: flex;\r\n  align-items: center;\r\n  color: #444;\r\n  font-size: 15px !important;\r\n}\r\n.main-top .main-top-right {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.el-dropdown-link {\r\n  cursor: pointer;\r\n  color: #40a0fffd;\r\n}\r\n.el-icon-arrow-down {\r\n  font-size: 12px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainTop.vue?vue&type=template&id=5ccb1600&scoped=true&\"\nimport script from \"./MainTop.vue?vue&type=script&lang=js&\"\nexport * from \"./MainTop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainTop.vue?vue&type=style&index=0&id=5ccb1600&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ccb1600\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainTop.vue?vue&type=style&index=0&id=5ccb1600&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"apply-repair\"},[_c('div',{staticClass:\"apply-repair-top\"},[_c('MainTop',[_vm._v(\"遗产申请 \"),_c('span',{staticClass:\"gang\"},[_vm._v(\" / \")]),_vm._v(\" 遗产报修\"),_c('span',{staticClass:\"gang\"},[_vm._v(\" / \")]),_vm._v(\" 新建报修\")])],1),_c('div',{staticClass:\"apply-repair-bottom padding15\"},[_c('br'),_c('el-alert',{attrs:{\"title\":\"\\n       请确保报修信息真实有效，否则您的申请可能会不被通过\\n      \",\"type\":\"info\"}}),_c('br'),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"size\":\"mini\",\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"申请人姓名\",\"prop\":\"applyName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入申请人或申请公司\"},model:{value:(_vm.ruleForm.applyName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"applyName\", $$v)},expression:\"ruleForm.applyName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"placeholder\":\"手机号主要用于审核时与您的联系\"},model:{value:(_vm.ruleForm.phone),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"phone\", $$v)},expression:\"ruleForm.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"申请分类\",\"prop\":\"addType\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.ruleForm.addType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"addType\", $$v)},expression:\"ruleForm.addType\"}})],1),_c('el-form-item',{attrs:{\"label\":\"遗产名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所在地址\",\"prop\":\"address\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.ruleForm.address),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"address\", $$v)},expression:\"ruleForm.address\"}})],1),_c('el-form-item',{attrs:{\"label\":\"始建年份\",\"prop\":\"start\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.ruleForm.start),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"start\", $$v)},expression:\"ruleForm.start\"}})],1),_c('el-form-item',{attrs:{\"label\":\"遗产类型\",\"prop\":\"type\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.ruleForm.type),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"type\", $$v)},expression:\"ruleForm.type\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属公司\",\"prop\":\"company\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.ruleForm.company),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"company\", $$v)},expression:\"ruleForm.company\"}})],1),_c('el-form-item',{attrs:{\"label\":\"报修类型\",\"prop\":\"repairType\"}},[_c('el-radio-group',{model:{value:(_vm.ruleForm.repairType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"repairType\", $$v)},expression:\"ruleForm.repairType\"}},[_c('el-radio',{attrs:{\"label\":\"建筑修缮\"}}),_c('el-radio',{attrs:{\"label\":\"设备维修\"}}),_c('el-radio',{attrs:{\"label\":\"环境改造\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"报修详情\",\"prop\":\"repairMain\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2 },\"placeholder\":\"请输入对于报修的详细描述\"},model:{value:(_vm.ruleForm.repairMain),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"repairMain\", $$v)},expression:\"ruleForm.repairMain\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否自备材料及配件\",\"prop\":\"isPart\"}},[_c('el-radio-group',{model:{value:(_vm.ruleForm.isPart),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"isPart\", $$v)},expression:\"ruleForm.isPart\"}},[_c('el-radio',{attrs:{\"label\":\"是\"}}),_c('el-radio',{attrs:{\"label\":\"否\"}}),_c('el-radio',{attrs:{\"label\":\"部分自备\"}})],1)],1),(_vm.ruleForm.isPart !== '是')?_c('el-form-item',{attrs:{\"label\":\"材料详情\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2 },\"placeholder\":\"请输入对于维修材料的详细描述\"},model:{value:(_vm.ruleForm.partMain),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"partMain\", $$v)},expression:\"ruleForm.partMain\"}})],1):_vm._e(),_c('el-divider'),_c('el-alert',{attrs:{\"title\":\"如有请上传相关图片，可上传多张\",\"type\":\"info\"}}),_c('br'),_c('input',{attrs:{\"type\":\"file\",\"multiple\":\"multiple\"},on:{\"change\":_vm.addImagesAll}}),_c('el-divider'),_c('div',{staticClass:\"subBtn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"立即创建\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 提交报修 -->\r\n  <div class=\"apply-repair\">\r\n    <div class=\"apply-repair-top\">\r\n      <MainTop\r\n        >遗产申请 <span class=\"gang\"> / </span> 遗产报修<span class=\"gang\">\r\n          /\r\n        </span>\r\n        新建报修</MainTop\r\n      >\r\n    </div>\r\n    <div class=\"apply-repair-bottom padding15\">\r\n      <br />\r\n      <el-alert\r\n        title=\"\r\n         请确保报修信息真实有效，否则您的申请可能会不被通过\r\n        \"\r\n        type=\"info\"\r\n      >\r\n      </el-alert>\r\n      <br />\r\n\r\n      <el-form\r\n        size=\"mini\"\r\n        :model=\"ruleForm\"\r\n        :rules=\"rules\"\r\n        ref=\"ruleForm\"\r\n        label-width=\"100px\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <el-form-item label=\"申请人姓名\" prop=\"applyName\">\r\n          <el-input\r\n            placeholder=\"请输入申请人或申请公司\"\r\n            v-model=\"ruleForm.applyName\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\" prop=\"phone\">\r\n          <el-input\r\n            placeholder=\"手机号主要用于审核时与您的联系\"\r\n            v-model=\"ruleForm.phone\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"申请分类\" prop=\"addType\">\r\n          <el-input :disabled=\"true\" v-model=\"ruleForm.addType\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"遗产名称\" prop=\"name\">\r\n          <el-input :disabled=\"true\" v-model=\"ruleForm.name\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"所在地址\" prop=\"address\">\r\n          <el-input :disabled=\"true\" v-model=\"ruleForm.address\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"始建年份\" prop=\"start\">\r\n          <el-input :disabled=\"true\" v-model=\"ruleForm.start\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"遗产类型\" prop=\"type\">\r\n          <el-input :disabled=\"true\" v-model=\"ruleForm.type\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"所属公司\" prop=\"company\">\r\n          <el-input :disabled=\"true\" v-model=\"ruleForm.company\"></el-input>\r\n        </el-form-item>\r\n\r\n        <!-- 保修内容 -->\r\n        <el-form-item label=\"报修类型\" prop=\"repairType\">\r\n          <el-radio-group v-model=\"ruleForm.repairType\">\r\n            <el-radio label=\"建筑修缮\"></el-radio>\r\n            <el-radio label=\"设备维修\"></el-radio>\r\n            <el-radio label=\"环境改造\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"报修详情\" prop=\"repairMain\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :autosize=\"{ minRows: 2 }\"\r\n            placeholder=\"请输入对于报修的详细描述\"\r\n            v-model=\"ruleForm.repairMain\"\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"是否自备材料及配件\" prop=\"isPart\">\r\n          <el-radio-group v-model=\"ruleForm.isPart\">\r\n            <el-radio label=\"是\"></el-radio>\r\n            <el-radio label=\"否\"></el-radio>\r\n            <el-radio label=\"部分自备\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"材料详情\" v-if=\"ruleForm.isPart !== '是'\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :autosize=\"{ minRows: 2 }\"\r\n            placeholder=\"请输入对于维修材料的详细描述\"\r\n            v-model=\"ruleForm.partMain\"\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 保修内容 -->\r\n\r\n        <el-divider></el-divider>\r\n        <el-alert title=\"如有请上传相关图片，可上传多张\" type=\"info\">\r\n        </el-alert>\r\n        <br />\r\n        <input type=\"file\" multiple=\"multiple\" @change=\"addImagesAll\" />\r\n        <el-divider></el-divider>\r\n\r\n        <div class=\"subBtn\">\r\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\"\r\n            >立即创建</el-button\r\n          >\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport MainTop from \"../../components/MainTop.vue\";\r\nexport default {\r\n  components: {\r\n    MainTop,\r\n  },\r\n  async created() {\r\n    console.log(this.$route.query);\r\n\r\n    if (this.$route.query.applyId) {\r\n      var res = await this.$axios.post(\"/getOneApplyRepair/getOneApplyRepair\", {\r\n        _id: this.$route.query.applyId,\r\n      });\r\n      // this.editData = { ...res.data.data[0] };\r\n      this.ruleForm = { ...res.data.data[0] };\r\n      // console.log(res);\r\n    } else {\r\n      this.getData();\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      data: [],\r\n\r\n      ruleForm: {\r\n        applyName: \"\", //申请人姓名\r\n        phone: \"\", //申请手机号\r\n        addType: \"\", //添加类型\r\n        name: \"\", //遗产名称\r\n        address: \"\", //遗产地址\r\n        type: \"\", //类型\r\n        company: \"\", //所属公司\r\n        jing: 0,\r\n        wei: 0,\r\n        start: \"\", //年份\r\n        mainImage: \"\", //封面图片\r\n        coordinate: [],\r\n        approvalStatus: \"pending\", //待审批状态：pending 待审批 adopt 处理中 reject 已驳回 isend 已完成\r\n        approvalComments: \"\", //审批意见\r\n        rejectComment: \"\", //驳回提示\r\n\r\n        repairType: \"\", //报修类型\r\n        repairMain: \"\", //报修详情\r\n        imagesAllurl: [], //报修相关图片\r\n        isPart: \"是\", //是否需要材料\r\n        partMain: \"\", //材料详情\r\n      },\r\n\r\n      // 验证规则\r\n      rules: {\r\n        applyName: [\r\n          { required: true, message: \"请输入申请人\", trigger: \"blur\" },\r\n        ],\r\n        phone: [\r\n          {\r\n            required: true,\r\n            message: \"请输入正确手机号\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        addType: [\r\n          { required: true, message: \"请选择添加类型\", trigger: \"change\" },\r\n        ],\r\n        name: [\r\n          { required: true, message: \"请输入工业遗产名称\", trigger: \"blur\" },\r\n          { min: 3, message: \"长度在不少于3个字符\", trigger: \"blur\" },\r\n        ],\r\n        address: [\r\n          {\r\n            required: true,\r\n            message: \"请选择工业遗产所在地址\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        type: [\r\n          {\r\n            required: true,\r\n            message: \"请输入工业遗产类型\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        company: [\r\n          {\r\n            required: true,\r\n            message: \"请输入工业遗产所属公司\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        start: [\r\n          {\r\n            required: true,\r\n            message: \"请选择遗产始建年份\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        repairType: [\r\n          {\r\n            required: true,\r\n            message: \"请选择报修类型\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        repairMain: [\r\n          {\r\n            required: true,\r\n            message: \"请输入报修详情\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        isPart: [\r\n          {\r\n            required: true,\r\n            message: \"请确定是否需要维修材料\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    async getData() {\r\n      var res = \"\";\r\n      if (this.$route.query.addType === \"工业遗产\") {\r\n        res = await this.$axios.post(\r\n          \"/getOneHeritageMainData/getOneHeritageMainData\",\r\n          {\r\n            _id: this.$route.query._id,\r\n          }\r\n        );\r\n      }\r\n      this.data = res.data.data[0];\r\n      this.ruleForm.addType = this.data.addType;\r\n      this.ruleForm.name = this.data.name;\r\n      this.ruleForm.address = this.data.address;\r\n      this.ruleForm.type = this.data.type;\r\n      this.ruleForm.company = this.data.company;\r\n      this.ruleForm.jing = this.data.jing;\r\n      this.ruleForm.wei = this.data.wei;\r\n      this.ruleForm.start = this.data.start;\r\n      this.ruleForm.mainImage = this.data.mainImage;\r\n      this.ruleForm.coordinate = this.data.coordinate;\r\n      console.log(this.data);\r\n    },\r\n\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(async (valid) => {\r\n        if (valid) {\r\n          //   alert(\"submit!\");\r\n          console.log(this.ruleForm);\r\n\r\n          // 处理文件格式\r\n          if (this.ruleForm.repairMain !== \"\") {\r\n            var re = /\\n/g;\r\n            this.ruleForm.repairMain = this.ruleForm.repairMain.replace(\r\n              re,\r\n              \"<br>\"\r\n            );\r\n\r\n            console.log(this.ruleForm.repairMain.split(\"<br>\"));\r\n            var arr = this.ruleForm.repairMain.split(\"<br>\");\r\n            var newarr = arr.map((ele) => \"<p class='test'>\" + ele + \"</p>\");\r\n            var newStr = newarr.join(\"\");\r\n            this.ruleForm.repairMain = newStr;\r\n          }\r\n          if (this.ruleForm.partMain !== \"\") {\r\n            var re2 = /\\n/g;\r\n            this.ruleForm.partMain = this.ruleForm.partMain.replace(\r\n              re2,\r\n              \"<br>\"\r\n            );\r\n\r\n            console.log(this.ruleForm.partMain.split(\"<br>\"));\r\n            var arr2 = this.ruleForm.partMain.split(\"<br>\");\r\n            var newarr2 = arr2.map((ele) => \"<p class='test'>\" + ele + \"</p>\");\r\n            var newStr2 = newarr2.join(\"\");\r\n            this.ruleForm.partMain = newStr2;\r\n          }\r\n\r\n          if (this.$route.query.applyId) {\r\n            // 编辑\r\n            this.ruleForm.approvalStatus = \"pending\";\r\n            var editRes = await this.$axios.post(\r\n              \"/editApplyRepair/editApplyRepair\",\r\n              this.ruleForm\r\n            );\r\n            if (editRes.status === 200) {\r\n              this.$message({\r\n                message: \"编辑成功\",\r\n                type: \"success\",\r\n              });\r\n              this.$router.push({\r\n                path: \"/repair/my/applyRepair\",\r\n              });\r\n            }\r\n          } else {\r\n            var res = await this.$axios.post(\r\n              \"/postApplyRepairData/postApplyRepairData\",\r\n              this.ruleForm\r\n            );\r\n            if (res.status === 200) {\r\n              this.$message({\r\n                message: \"报修信息提交成功，请耐心等待审核\",\r\n                type: \"success\",\r\n              });\r\n              this.$router.push(\"/repair/my/applyRepair\");\r\n            }\r\n          }\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n\r\n    // 展示图片上传\r\n    addImagesAll(e) {\r\n      const file = e.target.files[0];\r\n      console.log(file);\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = async (event) => {\r\n        let dataUrl = (this.src = event.target.result);\r\n        var res = await this.$axios.post(\r\n          \"https://790d5b85-9674-4a89-9bcc-c0657ea369be.bspapp.com/image\",\r\n          {\r\n            dataUrl,\r\n            name: file.name,\r\n          }\r\n        );\r\n\r\n        if (res.status === 200) {\r\n          this.$message({\r\n            message: \"图片上传成功\",\r\n            type: \"success\",\r\n          });\r\n\r\n          this.ruleForm.imagesAllurl.push(res.data.fileID);\r\n        } else {\r\n          this.$message.error(\"图片上传失败，请检查网络设置\");\r\n        }\r\n        // console.log(res);\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApplyRepair.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApplyRepair.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ApplyRepair.vue?vue&type=template&id=c6ad57b0&\"\nimport script from \"./ApplyRepair.vue?vue&type=script&lang=js&\"\nexport * from \"./ApplyRepair.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-404c9e69"],{"6c12":function(e,r,s){"use strict";s("fa5a")},a208:function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"post-user"},[s("div",{staticClass:"post-user-right"},[s("h1",[e._v("欢迎加入我们")]),e._m(0),s("br"),s("br"),s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"用户名",prop:"username"}},[s("el-input",{model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{"show-password":""},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),s("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[s("el-input",{attrs:{type:"password","show-password":"",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(r){e.$set(e.ruleForm,"checkPass",r)},expression:"ruleForm.checkPass"}})],1)],1),s("br"),s("div",{staticClass:"submit"},[s("el-button",{staticStyle:{width:"60%",color:"white",margin:"0 auto"},attrs:{type:"primary",round:""},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("注册")])],1),s("br"),s("br")],1),e._m(1)])},a=[function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("span",{staticClass:"span"},[e._v("已有帐户？点击 "),s("a",{attrs:{href:"/#/heritage/login"}},[e._v("登陆")])])},function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"post-user-left"},[s("h1",{staticClass:"title"},[e._v("河北工业遗产保护开发")]),s("p",{staticClass:"title"},[e._v("世纪的智慧、名声、辛勤，近乎落日")]),s("p",{staticClass:"title"},[e._v("却值得铭记")])])}],n=s("1da1"),o=(s("d3b7"),s("96cf"),{data:function(){var e=this,r=function(r,s,t){""===s?t(new Error("请再次输入密码")):s!==e.ruleForm.password?t(new Error("两次输入密码不一致!")):t()};return{userList:[],ruleForm:{username:"",password:"",checkPass:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],checkPass:[{required:!0,validator:r,trigger:"blur"}]}}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.get("/getAllUsers/getAllUsers");case 2:s=r.sent,e.userList=s.data.data,console.log(e.userList);case 5:case"end":return r.stop()}}),r)})))()},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(s){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!s){e.next=14;break}if(t=r.userList.some((function(e){return e.username===r.ruleForm.username})),!t){e.next=6;break}r.$message.error("该用户名已被注册，请换一个"),e.next=12;break;case 6:return console.log(r.ruleForm),e.next=9,r.$axios.post("/postUser/postUser",r.ruleForm);case 9:a=e.sent,console.log(a),200===a.status&&(r.$message({message:"恭喜你，注册成功",type:"success"}),r.$router.push("/heritage/login"));case 12:e.next=16;break;case 14:return console.log("error submit!!"),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()}}}),u=o,l=(s("6c12"),s("2877")),i=Object(l["a"])(u,t,a,!1,null,null,null);r["default"]=i.exports},fa5a:function(e,r,s){}}]);
//# sourceMappingURL=chunk-404c9e69.8ebbbc4a.js.map